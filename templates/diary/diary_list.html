{% extends 'base.html' %}

{% block title %}ì¼ê¸° ëª©ë¡{% endblock %}

{% block content %}
    <h2>ğŸ“… ë‚´ ë‹¤ì´ì–´ë¦¬ ëª©ë¡</h2>

    <form method="GET">
        <input type="text" name="q" placeholder="ì œëª© ê²€ìƒ‰" value="{{ request.GET.q }}">
        <input type="date" name="date" value="{{ request.GET.date }}">
        <select name="sort">
            <option value="new" {% if request.GET.sort == "new" %}selected{% endif %}>ìµœì‹ ìˆœ</option>
            <option value="old" {% if request.GET.sort == "old" %}selected{% endif %}>ì˜¤ë˜ëœ ìˆœ</option>
        </select>
        <button type="submit">ê²€ìƒ‰</button>
    </form>

    {% for diary in diaries %}
        <div>
            <h3><a href="{% url 'diary_detail' diary.pk %}">{{ diary.title }}</a></h3>
            <p>{{ diary.detail|truncatewords:20 }}</p>
            <p><strong>ì‘ì„± ë‚ ì§œ:</strong> {{ diary.created_at }}</p>
        </div>
    {% empty %}
        <p>ğŸ“Œ ì‘ì„±ëœ ì¼ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endfor %}

    <a href="{% url 'diary_create' %}">ğŸ“ ìƒˆ ì¼ê¸° ì‘ì„±</a>
{% endblock %}